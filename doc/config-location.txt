the directory 'generic/' contains the default configuration settings.

is copyed in /usr/local/var/sniffjoke/ 

this directory contains the "location directory"

every location is a network place where you use sniffjoke, you need to configure
every location separately, and generic will work for the most of the time.

* WHAT IS sniffjoke-autotest ? 

Is a script performing some sniffjoke usage for detect which kind of attack will 
be used in your network.
The problem is: not every kind of evasion technology will work in every network, 
and beside a manual verification, sniffjoke-autotest will make him job)
it take as argumet the location name, and create the new directory:
/usr/local/var/sniffjoke/$NEWLOCATION
putting inside the related configuration files

When you need to use a specific locaton, run sniffjoke --location $LOCATIONNAME and
the related directory will be used to chroot into, write logs and caches.

* WHAT DOES IT MEAN EVERY SINGLE CONFIG FILE ?

***	plugins-enabled.conf

It contains the list of the plugins to use in your sniffjoke service. The plugins
are the shared object contained in src/plugins and installed in 
/usr/local/lib/sniffjoke/*.so
the configuration file contains these information:

# comment
plugin_name.so,SCRAMBLETECHSUPPORTED1,SCRAMBLETECHSUPPORTED2,...

the plugin_name.so is exposed without path and intended to be found in the 
/usr/local/lib/sniffjoke directory. the scramble technology are separated by
a comma and without whitespace, and will be:

PRESCRIPTION
    is the scramble technology that decreare the TTL in the
    packet causing to expire before reach the remote host

INNOCENT
    is a valid packet injected inside the stream

MALFORMED
    is a packet with rfc-valid but incoheren by the usege
    in relation with the connection state of IP and TCP options
    or other malformation based on IP/TCP options header.
GUILTY
    packet with bad checksum, discarged by the remote host
    but accepted by the sniffer (very rare, is the less useful
    scramble but useful in the sniffjoke logic)

***	sniffjoke-service.conf

It does contain the same options that will be passed by command line:


active
    will be present or not present, and is used if sniffjoke must start 
	active in hijacking/injection or start and silently make mitm in
	the network without packet injection and session tracking
	default: not present
user
    specify the username to downgrade privileges after chrooting
	default: nobody
	suggested: the mantainer will create a sniffjoke user
group
    the same of user
	default: nogroup
	suggested: creation of sniffjoke group
management-address
	is the ip address where sniffjoke will bind the administrative socket,
	is a required configuration if you plan to use sniffjoke in a gateway 
	and manage the service by your client
	default: 127.0.0.1
management-port
	the UDP port for the administrative traffic
	default: 8844

	note: the two management info, need to be passed in the sniffjokeclt
	(the client managing sniffjoke service) to the command line.

debug
    the verbosity level used by sniffjoke:
	1: suppress log, no one line are provided 
	2: common, startup info and error reporting
	3: verbose, description and check of I/O operation
	4: debug, intensive and complete I/O description
	5: session, creation of $LOGFILENAME.session and session debug 
	6: packets, creation of $LOGFILENAME.packet and debug of every packet
	default: 2

foreground
	will be present or not and simple don't goes in default or goes.
	default: no

*** ipblacklist.conf

this is a series of ip address, written without every other information, and
whenever the blacklist is set in sniffjoke, the connection destinated to a
matching IP address will work untouched by sniffjoke

*** ipwhitelist.conf

this is the same of blacklist, but you specify the only ip address that will 
be hacked.

*** port-aggressivity.conf

this is how the default and simplest section appears:

# this is always on the top of the port definition file, act as default
1:65535     NORMAL,COMMON

# follow the port rules
22          RARE,LIGHT
23,25,110   COMMON,NORMAL
80,8080     PEEKATSTART,EVERY5SECONDS,HEAVY
6667,7000   ALWAYS,NORMAL

# edonkey p2p
4600:4800   EVERY20SECONDS,LIGHT

you need to select the destination TCP ports, use as separator "," or ":"
with the "," you should address the single port and with the ":" a range.

Those value are tell "Frequencies" and describe the frequency of the injection.
related to the kind of session (IRC is really different, from sensibiliy of the
data, amount of bytes and number of packets, from HTTP and peer2peer), those value
should be mixed togheder, using the ","

RARE
            every packet has the 24% to be hacked
COMMON
            every packet has the 56% to be hacked
ALWAYS
            yes, every packet is hacked: 100% not good, but, useful in rare situations
PACKETS10PEEK
            when the packets count related to the session if 9, 10 or 11
            (or 19, 20, 21...) the probability is 80%, the other time, 8%
PACKETS30PEEK
            session count 29, 30, 31 (59, 60, 61), are 80%, the other, 8%
TIMEBASED5S
            when the absolute time express in seconds is divisible by 5, the probability
            is 96% the other time, 8%
TIMEBASED20S
            absolute timing in seconds divisible by 20, 96%, other time, 8%
STARTPEEK
            for the first 20 packets, 80%, since 21 to 40, 40%, after 8%
LONGPEEK
            first 60 packets 64%, since 61 to 120 32%, the other until the end 8%

the packets count is related to the original sessions packets, the hacked injected are excluded.

and those value, that REQUIRE to be ONE ALONE IN EVERY LINE, describe the Probability of
happen (because every think in sniffjoke need to be randomized, also the probability of injection).

NONE
            multiply by 0 the value returned by Frequency (suppress hacks)
LIGHT
            multiply by 4 the value returned by Frequency (you should halve the
            percentage written before)
NORMAL
            multiply by 8 (this is because every number is divisible by eight)
HEAVY
            multiply by 12

Is a matter of percentage. use the default if you don't know what you do. and if you
know what is better do, contact us sending a complete default, now really few TCP ports are
written.
